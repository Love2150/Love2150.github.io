<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Brandon Love — Portfolio</title>
  <meta name="description" content="Responsive personal site with portfolio, projects, and blog, ready for GitHub Pages." />
  <meta property="og:title" content="Brandon Love — Portfolio" />
  <meta property="og:description" content="Responsive personal site with portfolio, projects, and blog." />
  <meta name="theme-color" content="#111827"/>
  <style>
    :root{
      --bg:#0b1020;--card:#121934;--text:#e5e7eb;--muted:#9ca3af;--accent:#60a5fa;--accent-2:#a78bfa;--border:#1f2a4d;--shadow:0 8px 24px rgba(0,0,0,.4)
    }
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:var(--text)}
    a{color:var(--accent);text-decoration:none}
    .container{width:min(1100px,92%);margin-inline:auto}
    section{padding:44px 0}
    .section-head h2{margin:0;font-size:1.8rem}
    /* Medium feed theming */
  #medium { --gap: 1rem }
  #medium-feed { display:grid; grid-template-columns: repeat(12, 1fr); gap: var(--gap) }
  /* Pixelpoint widget common classes */
  #medium-feed .medium-widget-article { grid-column: span 4; background: var(--card); border:1px solid var(--border); border-radius:16px; box-shadow: var(--shadow); overflow:hidden; display:flex; flex-direction:column }
  #medium-feed .medium-widget-article__image { width:100%; height:auto; aspect-ratio:16/9; object-fit:cover }
  #medium-feed .medium-widget-article__title { margin:12px 14px 6px; font-size:1.05rem }
  #medium-feed .medium-widget-article__description { margin:0 14px 10px; color: var(--muted) }
  #medium-feed .medium-widget-article__claps, 
  #medium-feed .medium-widget-article__date { margin:0 14px 12px; color: var(--muted); font-size:.9rem }
  #medium-feed a { color:var(--accent) }
  @media (max-width:980px){ #medium-feed .medium-widget-article{ grid-column: span 6 } }
  @media (max-width:640px){ #medium-feed .medium-widget-article{ grid-column: span 12 } }

  /* Fallback styling if class names differ */
  #medium-feed .medium-card { grid-column: span 4; background: var(--card); border:1px solid var(--border); border-radius:16px; box-shadow: var(--shadow); padding:12px }
  @media (max-width:980px){ #medium-feed .medium-card{ grid-column: span 6 } }
  @media (max-width:640px){ #medium-feed .medium-card{ grid-column: span 12 } }
</style>
</head>
<body>
  <header class="container">
    <h1>Brandon Love — Portfolio</h1>
  </header>

  <main>
    <section id="portfolio" class="container">
      <div class="section-head">
        <h2>Portfolio Highlights</h2>
      </div>
      <p>Selected projects and DFIR case studies.</p>
    </section>

    <section id="projects" class="container">
      <div class="section-head">
        <h2>Projects</h2>
      </div>
      <p>Hands-on labs, automation scripts, and cybersecurity experiments.</p>
    </section>

    <section id="medium" class="container" data-medium-resource="https://medium.com/@brandonlove2150">
      <div class="section-head">
        <h2>Latest on Medium</h2>
        <p>My newest posts from Medium.</p>
      </div>
      <div id="medium-feed"></div>
    </section>
  </main>

  <footer class="container" style="padding:32px 0;color:var(--muted)">
    © <span id="year"></span> Brandon Love. All rights reserved.
  </footer>

  <script defer src="https://medium-widget.pixelpoint.io/widget.js"></script>
  <script>
    // Year footer
    document.getElementById('year').textContent = new Date().getFullYear();

    // Medium feed init with graceful fallbacks and matching card UI
    window.addEventListener('load', function(){
      const feed = document.getElementById('medium-feed');
      const section = document.getElementById('medium');
      const resource = section?.getAttribute('data-medium-resource') || 'https://medium.com/@brandonlove2150';

      if (!feed) return;

      // Accessible loading skeletons
      const skeleton = Array.from({length: 3}).map(()=>
        '<div class="medium-card" aria-hidden="true">'+
          '<div style="height:180px;background:linear-gradient(135deg, rgba(96,165,250,.15), rgba(167,139,250,.12));border-radius:12px"></div>'+
          '<div style="height:12px;margin:12px 0 6px;background:rgba(255,255,255,.08);border-radius:6px"></div>'+
          '<div style="height:12px;width:70%;background:rgba(255,255,255,.06);border-radius:6px"></div>'+
          '<div style="height:12px;width:40%;margin-top:10px;background:rgba(255,255,255,.06);border-radius:6px"></div>'+
        '</div>'
      ).join('');
      feed.innerHTML = skeleton;

      function applyCardFallbacks(){
        const kids = Array.from(feed.children || []);
        kids.forEach(el => {
          // If the widget used unexpected markup, style as a card
          if (!el.classList.contains('medium-widget-article')){
            el.classList.add('medium-card');
          }
        });
      }

      function initWidget(){
        if (!window.MediumWidget){
          return setTimeout(initWidget, 150);
        }
        try{
          MediumWidget.Init({
            renderTo: '#medium-feed',
            params: {
              resource,
              postsPerLine: 3,
              limit: 6,
              picture: 'big',
              fields: ['description','claps','publishAt'],
              ratio: 'landscape'
            }
          });
          setTimeout(applyCardFallbacks, 400);
        } catch (e) {
          feed.innerHTML = '<p class="meta">Could not load Medium posts. Check your Medium URL and public visibility, then reload.</p>';
          console.warn('Medium embed error:', e);
        }
      }

      initWidget();
    });
  </script>
</body>
</html>
